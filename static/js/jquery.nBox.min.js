(function(a){var c,e,f,g,h;function k(){c=a('<div id="nBox" />');e=a('<div id="nBox-overlay" />');f=a('<div id="nBox-content" />');g=a('<div class="nBox-window-title" />');h=a('<div class="nBox-window-close"><span class="nbox-close-btn"></span></div>');var b=a('<div id="nBox-header" />').append(g).append(h);c.append(b).append(f);a("body").append(e).append(c)}function l(b,d){this.defaultConfig={width:400,height:400,fadeAnimeTime:150,title:"MyBox",targetId:null};this.config={};this.targetClose=this.targetDialog=
this.target=null;this.init=function(b,c){var d=this;this.config=a.extend(this.defaultConfig,c);0===a("#nBox").length&&k();this.target=a("#"+this.config.targetId);this.target.hide();b.click(function(){d.show()});a(document).on("keydown",function(a){(a.which&&27==a.which||a.keyCode&&27==a.keyCode)&&d.hide()});a(document).on("click","#nBox-overlay, #nBox .nBox-window-close",function(){d.hide()})};this.show=function(){var a=this.config,b,d;g.text(a.title);f.css({width:a.width,height:a.height});f.append(this.target);
this.target.show();b=c.height();d=c.width();c.css({"margin-top":-(b/2),"margin-left":-(d/2)});e.fadeIn(a.fadeAnimeTime);c.fadeIn(a.fadeAnimeTime)};this.hide=function(){var a=this.config;c.fadeOut(a.fadeAnimeTime);e.fadeOut(a.fadeAnimeTime);this.target.hide()}}h=g=f=e=c=void 0;a.nBox={init:function(b,d){return b.each(function(){if(!a(this).data("nBox")){var b=a.extend(!0,{},d),c;c=new l;c.init(a(this),b);a.data(this,"nBox",c)}})},hide:function(b){return b.each(function(){var b=a(this).data("nBox");
b&&b.hide()})},show:function(b){return b.each(function(){var b=a(this).data("nBox");b&&b.show()})}};a.fn.nBox=function(b){if("undefined"!==typeof a.nBox[b])return arguments=Array.prototype.concat.call([arguments[0]],[this],Array.prototype.slice.call(arguments,1)),a.nBox[b].apply(a.nBox,Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return Array.prototype.unshift.call(arguments,this),a.nBox.init.apply(a.nBox,arguments);a.error("Method "+b+" does not exist on jQuery.nBox");return this}})(jQuery);
